#*****************************************************************#
#          This describes the piccflight user commands.           #
#*****************************************************************#

------------- SYSTEM COMMANDS -------------

cmd: exit
  	exits the watchdog
	on the flight system the watchdog will restart automatically

cmd: packet info
     	prints the sizes of the telemetry packets

------------- PROCESS CONTROL -------------

cmd: xxx_proc on
	turns the xxx process on
	xxx = sci, shk, lyt, tlm, etc.

cmd: xxx_proc off
	turns the xxx process off
	xxx = sci, shk, lyt, tlm, etc.

cmd: proc status
	prints the current run status of all available processes

------------- FAKE DATA MODES -------------

cmd: xxx fakemode [arg]
	enables a fake data mode for a specific camera or telemetry
	xxx = shk, lyt, sci, acq, tlm
	arg = string command for the fake mode
	sending command without the cmd will print the available modes

 
------------ CALIBRATION MODES ------------
	
cmd: alp calmode [arg]
	sets the alpao dm calibration mode
	arg = string command for the calibration mode
	sending command without the cmd will print the available modes
	
cmd: hex calmode [arg]
	sets the hexapod calibration mode
	arg = string command for the calibration mode
	sending command without the cmd will print the available modes
	
------------------ STATES -----------------

cmd: state [arg]
	set the operational state of the flight software
	cmd: string command for the state
	sending command without the cmd will print the available states

-------------- DATA RECORDING -------------

cmd: shk start rec
	start recording shkevents to disk

cmd: shk stop rec
	stop recording shkevents to disk

cmd: lyt start rec
	start recording lytevents to disk

cmd: lyt stop rec
	stop recording lytevents to disk

------------- HEXAPOD CONTROL -------------

cmd: hex tcor on (NON-FUNCTIONAL)
	enables hexapod automatic tilt correction for decenter
	tilt induced by decenter commands will be corrected automatically

cmd: hex tcor off (NON-FUNCTIONAL)
	disables hexapod automatic tilt correction for decenter
	tilt induced by decenter commands will NOT be corrected automatically

cmd: hex inc step
	doubles the incremental step size hexapod movements

cmd: hex dec step
	halves the incremental step size hexapod movements

cmd: hex rst step
	resets the incremental step size hexapod movements

cmd: hex getpos
	query the hexapod for its current position and print to screen

cmd: hex gohome
	move hexapod to #defined home position

cmd: hex godef
	move hexapod to #defined default position

cmd: hex move [arg]
	move the hexapod one step in the given direction
	arg = +x, -x, +y, -y, +z, -z, +u, -u, +v, -v, +w, -w

------------- ALPAO DM CONTROL -------------

cmd: alp revert flat
        revert ALP to #defined flat pattern

cmd: alp save flat
        save current ALP command as default flat pattern (alp_flat.dat)

cmd: alp load flat
        load saved ALP flat pattern (alp_flat.dat)

cmd: alp random
     	applies a random actuator perturbation to the current ALP command

cmd: alp zrandom
     	applies a random zernike perturbation to the current ALP command

cmd: alp zernike [arg1] [arg2]
	add a zernike delta to the current ALP command
	arg1 = zernike index [0,1,2,3,...,22]
	arg2 = zernike wavefront amplitude [microns RMS]

cmd: alp actuator [arg1] [arg2]
	add a single actuator delta to the current ALP command
	arg1 = actuator index [0,1,2,3,...,96]
	arg2 = actuator delta in analog command units [-1 to +1] 

------------- SENSOR CALIBRATION -------------

cmd: shk calibrate hex [arg]
        record shk data through one complete cycle of a hex calmode
	arg = string command for the hex calmode

cmd: shk calibrate alp [arg]
        record shk data through one complete cycle of an alp calmode
	arg = string command for the alp calmode

cmd: lyt calibrate alp [arg]
        record lyt data through one complete cycle of an alp calmode
	arg = string command for the alp calmode


------------- CAMERA RESET -------------

cmd: shk reset
     	reset shk_process_image function
	reloads calibration files

cmd: lyt reset
     	reset lyt_process_image function
	reloads calibration files

cmd: acq reset
     	reset acq_process_image function
	reloads calibration files

cmd: sci reset
     	reset sci_process_image function
	reloads calibration files


------------- SHACK-HARTMANN CONTROL -------------

cmd: shk set cenbox origin
     	set the center of the centroid boxes to the current spot centers
	does not set the cell origin, which is the target position

cmd: shk set origin
        set the center of the centroid boxes AND the cell origins to the current spot centers
	this will zero out the centroid errors across the grid

cmd: shk revert origin
        revert the cell and centroid box origins to the #defined values

cmd: shk save origin
        save the current cell and centroid box origins to file (shk_origin.dat)

cmd: shk load origin
        load the cell and centroid box origins from file (shk_origin.dat)

cmd: shk shift origin [arg]
        shift the cell and centroid box origins 1 pixel in the given direction
	arg = +x, -x, +y, -y


------------- CONTROL SYSTEM GAIN -------------

cmd: shk alp gain [arg]
        change the shk2alp controller PID gains by a factor
	arg = scale factor [0-1] to mutiply by the default gains

cmd: shk hex gain [arg]
        change the shk2hex controller PID gains by a factor
	arg = scale factor [0-1] to mutiply by the default gains
	
cmd: lyt alp gain [cnd]
        change the lyt2alp controller PID gains by a factor
	arg = scale factor [0-1] to mutiply by the default gains

------------- ZERNIKE CONTROL SWITCHES -------------

cmd: zernike info
        print out which zernikes are enabled and which are disabled

cmd: zernike enable all
        enable control of all zernikes

cmd: zernike enable [arg]
        enable control of a single zernike
	arg = zernike index

cmd: zernike disable all
        disable control of all zernikes

cmd: zernike disable [arg]
        disable control of a single zernike
	arg = zernike index

